function asyncGeneratorStep(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,s,"next",e)}function s(e){asyncGeneratorStep(n,o,a,i,s,"throw",e)}i(void 0)}))}}function _createForOfIteratorHelperLoose(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}!function(e,t){"use strict";var r=e._prefix+"js";requirejs.config({onNodeCreated:function(e,t,r,o){(o.includes("//")||o.includes("www."))&&((o.includes("facebook.net")||o.includes("apis.google.com"))&&e.setAttribute("crossorigin","anonymous"),e.setAttribute("defer","defer"))},urlArgs:function(t,r){return r.includes("//")||r.includes("www.")||r.includes("/locale/")||r.includes("/socket.io/")?"":(r.includes("?")?"&":"?")+"ver="+e._relisets},baseUrl:"/common/js",callback:e.appError,skipDataMain:!0,waitSeconds:60,packages:[{name:"views",location:e._prefix+"views",main:"views"},{name:"hgs",location:e._prefix+"hgs",main:"hgs"},{name:"admin",location:e._prefix+"js",main:"admin"},{name:"codemirror",location:r+"/codemirror",main:"lib/codemirror"},{name:"jquery-ui",location:r+"/jquery-ui",main:"jquery-ui"},{name:"highcharts",location:r+"/highcharts",main:"highcharts"},{name:"cardpayment",location:"cardpayment",main:"cardpaymentfactory"},{name:"autocomplete",location:"autocomplete",main:"autocomplete"},{name:"whenfmt",location:"whenfmt",main:"whenfmt"},{name:"@fullcalendar",location:"@fullcalendar",main:"core"},{name:"intlTelInput",location:"intlTelInput",main:"intlTelInput"},{name:"vis-timeline",location:r+"/vis-timeline",main:"peer/umd/vis-timeline-graph2d"},{name:"vis-data/peer/umd/vis-data.js",location:r+"/vis-data",main:"peer/umd/vis-data"},{name:"bootstrap-datepicker",location:"bootstrap-datepicker",main:"datepicker"},{name:"moment",location:"moment",main:"moment"}],paths:{"socket.io":"/socket.io/socket.io",stripe:"https://js.stripe.com/v3/?1",jquery:"main","jquery-block":"main",bootstrap:"main",lodash:"main",safe:"main",text:"main",json:"main",rasync:"main",api:"main",i18n:"main",md5:"main",decimal:"big",html5storage:"jquery.html5storage","jquery-cookie":"jquery.cookie",baguettebox:"baguetteBox","bootstrap-validator":"bootstrap/bootstrap-validator","bootstrap-dialog":"bootstrap/bootstrap-dialog","bootstrap-typeahead":"bootstrap/bootstrap-typeahead","bootstrap-slider":"bootstrap/bootstrap-slider","bootstrap-timepicker":"bootstrap/bootstrap-timepicker","bootstrap-colorpicker":"bootstrap/bootstrap-colorpicker","bootstrap-select":"bootstrap/bootstrap-select","jquery-addons":"jquery.addons","jquery-form":"jquery.form","jquery-creditCardValidator":"jquery.creditCardValidator","jquery-smoothwheel":"jquery.smoothwheel","jquery-verbose-calendar":"jquery.calendar","jquery-uploader":"jquery.damnUploader","jquery-mask":"jquery.mask","moment-timezone":"moment-timezone.min",datatables:r+"/dataTables","datatables-bootstrap":r+"/dataTables-bootstrap",aloha:r+"/aloha","technical-indicators":r+"/technical-indicators","fa-iconpicker":r+"/fa-iconpicker",csslinter:r+"/linter/csslinter",MediaManager:r+"/mediamanager","summernote-core":r+"/summernote/summernote","summernote-locale":r+"/summernote/lang/summernote-"+e._user.language.replace("_","-")},shim:{cron:{deps:["moment","moment-timezone"]},"summernote-core":{deps:["jquery","bootstrap"]},"summernote-locale":{deps:["summernote-core"]},summernote:{deps:["jquery","bootstrap"]},stripe:{exports:"Stripe"},"bootstrap-datepicker":{deps:["bootstrap"]},"bootstrap-typeahead":{deps:["bootstrap"]},"bootstrap-timepicker":{deps:["bootstrap"]},"bootstrap-slider":{deps:["bootstrap"]},"bootstrap-dialog":{deps:["bootstrap"]},"bootstrap-validator":{deps:["bootstrap"]},"bootstrap-select":{deps:["bootstrap"]},"datatables-bootstrap":{deps:["jquery","bootstrap","datatables"]},"bootstrap-colorpicker":{deps:["bootstrap"]},"intlTelInput/utils":{deps:["intlTelInput"]},"highcharts/modules/exporting":{deps:["highcharts"],init:function(e){return e.setOptions({colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]}),e}}},animatescroll:{deps:["jquery"]},config:{clitpl:{mPath:e._prefix,mName:"admin"}}}),requirejs.onError=e.appError,e._autotest&&define("gmaps",[],(function(){return function(e,t,r,o){r&&r.cb&&r.cb()}})),"en_US"===e._user.language?define("summernote",["summernote-core"],(function(){})):define("summernote",["jquery","summernote-locale"],(function(t){t.summernote.options.lang=e._user.language.replace("_","-")})),define("CodeMirror-css",["codemirror","codemirror/addon/edit/trailingspace","codemirror/mode/css/css","codemirror/addon/edit/matchtags","codemirror/addon/hint/show-hint","codemirror/addon/edit/matchbrackets","codemirror/addon/hint/css-hint","codemirror/addon/lint/lint","codemirror/addon/lint/css-lint","codemirror/addon/selection/active-line","codemirror/addon/fold/foldgutter","codemirror/addon/fold/foldcode","codemirror/addon/fold/brace-fold","codemirror/addon/scroll/annotatescrollbar","codemirror/addon/search/search","codemirror/addon/search/match-highlighter","codemirror/addon/search/matchesonscrollbar","codemirror/addon/search/searchcursor","csslinter"],(function(e){return e.keyMap.default["Shift-Tab"]="indentLess",e.keyMap.default.Tab="indentMore",Object.assign(e.defaults,{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,foldGutter:!0,lineWrapping:!0,matchBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},completeSingle:!1,continueComments:"Enter",styleActiveLine:!0,matchTags:{bothTags:!0},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],viewportMargin:1/0}),e})),define("CodeMirror-javascript",["codemirror","codemirror/mode/javascript/javascript","codemirror/addon/edit/trailingspace","codemirror/addon/edit/matchtags","codemirror/addon/edit/matchbrackets","codemirror/addon/hint/show-hint","codemirror/addon/hint/javascript-hint","codemirror/addon/selection/active-line","codemirror/addon/fold/foldgutter","codemirror/addon/fold/foldcode","codemirror/addon/fold/brace-fold","codemirror/addon/scroll/annotatescrollbar","codemirror/addon/search/search","codemirror/addon/search/match-highlighter","codemirror/addon/search/matchesonscrollbar","codemirror/addon/search/searchcursor"],(function(e){return e.keyMap.default["Shift-Tab"]="indentLess",e.keyMap.default.Tab="indentMore",Object.assign(e.defaults,{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,foldGutter:!0,lineWrapping:!0,matchBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},completeSingle:!1,continueComments:"Enter",styleActiveLine:!0,matchTags:{bothTags:!0},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],viewportMargin:1/0}),e})),define("CodeMirror-html",["codemirror","codemirror/mode/htmlmixed/htmlmixed","codemirror/mode/handlebars/handlebars","codemirror/addon/edit/trailingspace","codemirror/addon/edit/matchtags","codemirror/addon/edit/matchbrackets","codemirror/addon/hint/show-hint","codemirror/addon/hint/html-hint","codemirror/addon/selection/active-line","codemirror/addon/fold/foldgutter","codemirror/addon/fold/foldcode","codemirror/addon/fold/xml-fold","codemirror/addon/fold/brace-fold","codemirror/addon/scroll/annotatescrollbar","codemirror/addon/search/search","codemirror/addon/search/match-highlighter","codemirror/addon/search/matchesonscrollbar","codemirror/addon/search/searchcursor"],(function(e){return e.keyMap.default["Shift-Tab"]="indentLess",e.keyMap.default.Tab="indentMore",Object.assign(e.defaults,{lineNumbers:!0,tabSize:4,indentUnit:4,indentWithTabs:!0,foldGutter:!0,lineWrapping:!0,matchBrackets:!0,showTrailingSpace:!0,highlightSelectionMatches:{showToken:/\w/,annotateScrollbar:!0},completeSingle:!1,continueComments:"Enter",styleActiveLine:!0,matchTags:{bothTags:!0},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],viewportMargin:1/0}),e})),define("facebook-jssdk",["https://connect.facebook.net/"+e._user.language+"/all.js"],(function(){})),define("gp-jssdk",["https://apis.google.com/js/platform.js"],(function(){e.___gcfg={lang:e._user.language.replace("_","-"),parsetags:"onload"}})),requirejs(["jquery","i18n","lodash","admin/perfect-scrollbar","jquery-block"],(function(r,o,a,n){function i(){return e.location.pathname+e.location.search}var s=r(t),c=o("Are you sure you want to leave this page? You have unsaved data.");s.on("pageReload.end",(function(){console.log("["+(new Date).toTimeString().substring(0,8)+"]","pok.nav",e.location.pathname);var t=r("#header"),o=r("#mainblock"),a=s.find("#not-part-of-plan-modal");o.hasClass("not-part-of-plan-blur")?a.modal("show"):a.modal("hide");try{o.find("#maincontent select.selectpicker").selectpicker()}catch(e){console.log(e)}if(e.location.hash&&"#"!==e.location.hash)try{var n=o.find("#maincontent "+e.location.hash)[0];return void(n&&n.scrollIntoView())}catch(e){}t.find(".mainmenubulet.dropdown, .dropdown-submenu").removeClass("active"),t.find("li[data-menuactive].mainmenubulet, .mainmenubulet li[data-menuactive]").each((function(){var t=r(this),o=new RegExp("^"+t.data("menuactive"),"i").test(e.location.pathname);t.toggleClass("active",o),o&&(t.closest(".dropdown-submenu").addClass("active"),t.closest(".mainmenubulet.dropdown").addClass("active"))})),t.find("li.dropdown.mainmenubulet, .mainmenubulet li.dropdown-submenu").removeClass("sms-user").each((function(){var e=r(this),t=e.find("li[data-menuactive]");t.length===t.filter(".sms-user").length&&e.addClass("sms-user")}))})),e.history.replaceState("init",""),r((function(){var o=r(t.body),d=r(t.head),l=o.find("#mainblock"),m=r(e),u=e.ResizeObserver?new e.ResizeObserver((function(e){for(var t,o=_createForOfIteratorHelperLoose(e);!(t=o()).done;){var a=t.value,n=r(a.target).data("PerfectScrollbar");n&&n.update()}})):null;if(!e._autotest){var p=a.throttle((function(){m.width()<992||l.find(".scroll").each((function(){var e=r(this);if(e.is(".ps")){var t=e.data("PerfectScrollbar");t&&t.update()}else e.data("PerfectScrollbar",new n(this,{swipeEasing:!1,wheelPropagation:!0})),u&&u.observe(this)}))}),500);"function"==typeof e.MutationObserver?new e.MutationObserver(p).observe(l[0],{childList:!0,subtree:!0}):setInterval(p,1e3)}function h(t){var a=i(),n="",s="";t.subtitle&&(s=t.subtitle),t.pagetitle&&(n=t.pagetitle),t.routePath&&(e.__routePath=t.routePath),e.setFAQtags(t.__faqtags||[]),d.find('meta, link[rel="canonical"]').remove(),d.find("title").replaceWith(t.head_meta),o.find("#pagetitle").text(n||""),o.find("#subtitle").text(s||""),o.find(".modal:not(.livechat_modal)").modal("hide");var c=l.find("#maincontent"),p=c.find(".scroll").toArray().map((function(e){return e.scrollTop}));try{c.find(".selectpicker").selectpicker("destroy"),c.find(".scroll.ps").each((function(){r(this).data("PerfectScrollbar")&&(u.unobserve(this),r(this).data("PerfectScrollbar").destroy())}))}catch(e){}c.find("*").each((function(){try{r.data(this,"bs.popover")&&r(this).popover("destroy"),r.data(this,"bs.tooltip")&&r(this).tooltip("destroy"),r.data(this,"datepicker")&&r(this).datepicker("remove")}catch(e){}})),m.off(".maincontent"),c.replaceWith("<div id='maincontent' class=\"context fade\"></div>"),l.find("#maincontent").append(t.data),t.__notpartofplan?l.addClass("not-part-of-plan-blur"):l.removeClass("not-part-of-plan-blur"),l.find("#maincontent").addClass("in");try{t.url===a&&p.forEach((function(e,t){(l.find("#maincontent").find(".scroll")[t]||{}).scrollTop=e}))}catch(e){}return s||n}function f(){return(f=_asyncToGenerator(regeneratorRuntime.mark((function t(o){var a,n,c,m,u,p,f,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.append('<meta id="page_reload">'),s.trigger("pageReload.start"),l.find("#maincontent").block(),a=o&&o.split("#")[1],n=i(),t.prev=5,c={Accept:"application/json","Content-Type":"application/json","pok-page-reload":!0},e.__localization_on_the_fly&&(c["pok-localization-on-the-fly"]=!0),t.next=10,e.fetch(o||n,{method:"GET",credentials:"same-origin",headers:c,cache:"no-cache"});case 10:if((m=t.sent).ok){t.next=27;break}if(403!==m.status){t.next=15;break}return e.location.href=o,t.abrupt("return");case 15:return u=m.statusText,t.prev=16,t.next=19,m.text();case 19:u=t.sent,t.next=24;break;case 22:t.prev=22,t.t0=t.catch(16);case 24:throw(p=e.ApiError?new e.ApiError(u):new Error(u)).statusCode=m.status,p;case 27:return t.next=29,m.json();case 29:(f=t.sent)?(b=h(f),f.url!==n&&(e.history.pushState({html:f},b,f.url+(a?"#"+a:"")),r.ajaxSetup({url:f.url})),d.find("#page_reload").remove(),s.trigger("pageReload.end")):e.location.href=o||e.location.href,t.next=38;break;case 33:t.prev=33,t.t1=t.catch(5),s.trigger("pageReload.fail"),d.find("#page_reload").remove(),e.appError(t.t1);case 38:return t.prev=38,l.find("#maincontent").unblock(),t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[5,33,38,41],[16,22]])})))).apply(this,arguments)}e.pageReload=function(t,r,o){if(t)e.appError(t);else{if(r&&"string"==typeof r&&!r.startsWith(e._prefix))return void(e.location.href=r);if(e._beforeUnload())return;var a=function(e){return f.apply(this,arguments)}(r);if(!o)return a;a.then((function(){return o()}),o)}},e._beforeUnload=function(){return!e._autotest&&l.find(".unsaved").length&&!e.confirm(c)},s.on("click","a[href]:not([target])",(function(t){var o=r(this);if(!(t.shiftKey||t.ctrlKey||t.isDefaultPrevented()||o[0].download||o[0].target||r(this).data("notreload")||o.data("toggle"))){var a=o.attr("href");if(!a.startsWith("#"))return a.startsWith(e._prefix)?(e.pageReload(null,a,null,!0),!1):void 0}})),s.on("click",'a[href="#"]',(function(t){e.location.hash||t.preventDefault()})),s.on("submit","#multisearch, #mainblock form.ajax_form",(function(t){if("get"===this.method&&!t.isDefaultPrevented()){t.preventDefault();var o=r(this),a=(o.attr("action")||e.location.pathname).split("?")[0],n=o.serialize().split("&").filter((function(e){return e.split("=")[1]})).join("&");n&&(a+="?"+n),e.pageReload(null,a)}})),e.onpopstate=function(t){t.state&&(t.state.html?(h(t.state.html),s.trigger("pageReload.end")):e.pageReload())}}))}),e.appError),e.setFAQtags=function(t){requirejs(["https://wchat.freshchat.com/js/widget.js"],(function(){e.fcWidget.setFaqTags({tags:t,filterType:"article"})}))},requirejs(["jquery","dom-ready"],(function(e){e((function(){setTimeout((function(){e("#mainLoading").remove(),e("#maincontent").addClass("in")}),10)}))}),e.appError)}(window,document);