function asyncGeneratorStep(e,r,t,n,a,o,s){try{var u=e[o](s),c=u.value}catch(e){return void t(e)}u.done?r(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function s(e){asyncGeneratorStep(o,n,a,s,u,"next",e)}function u(e){asyncGeneratorStep(o,n,a,s,u,"throw",e)}s(void 0)}))}}define(["api","lodash","autocomplete/autoselector","checkperm","ApiError"],(function(e,r,t,n,a){"use strict";return t({key:"transid",template:"translate",getter:function(t){var n=this;return _asyncToGenerator(regeneratorRuntime.mark((function a(){var o,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.cache("translate.getTranslations",t);case 2:return o=a.sent,o=r(o).toArray().reject("_b_deleted").orderBy("_msvalues."+window._user.language).value(),(s=n.data("filter"))&&(o=r.filter(o,s)),n.data("autoselector.items",o),a.abrupt("return",{items:o});case 8:case"end":return a.stop()}}),a)})))()},creater:function(r,t){var o=this;return _asyncToGenerator(regeneratorRuntime.mark((function s(){var u,c,i,l,p;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(u=r.text,n(["translate.edit"])){s.next=3;break}throw new a("You don't have permissions",a.Subject.ACCESS_DENIED);case 3:return c=o,s.prev=4,c.block(),l={_msvalues:(i={},i[window._user.language]=u,i),type:t},s.next=9,e.call("translate.saveTranslation",l);case 9:return p=s.sent,e.CACHE.clear(),s.abrupt("return",p);case 14:s.prev=14,s.t0=s.catch(4),window.appError(s.t0);case 17:return s.prev=17,c.unblock(),s.finish(17);case 20:case"end":return s.stop()}}),s,null,[[4,14,17,20]])})))()}})}));