function asyncGeneratorStep(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){asyncGeneratorStep(i,r,a,c,o,"next",e)}function o(e){asyncGeneratorStep(i,r,a,c,o,"throw",e)}c(void 0)}))}}define(["jquery","api","lodash","jquery-block"],(function(e,t,n){return function(n){var r=n._id;return e((function(){var n=e("#maincontent");n.find("#apt-status-"+r).on("click","li > a",function(){var a=_asyncToGenerator(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i.preventDefault(),n.block(),a.prev=2,!e(this).closest(".apt_item").hasClass("buildingItem")){a.next=8;break}return a.next=6,t.call("building.saveBuilding",{_id:r,active:e(this).attr("href").replace("#","")});case 6:a.next=10;break;case 8:return a.next=10,t.call("apartment.saveApartment",{_id:r,active:e(this).attr("href").replace("#","")});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),window.appError(a.t0);case 15:return a.prev=15,n.unblock(),a.finish(15);case 18:window.pageReload();case 19:case"end":return a.stop()}}),a,this,[[2,12,15,18]])})));return function(e){return a.apply(this,arguments)}}())}))}}));