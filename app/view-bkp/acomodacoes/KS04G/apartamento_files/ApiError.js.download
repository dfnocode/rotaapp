function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(o,e)})(e)}function _construct(e,t,o){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,o){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return o&&_setPrototypeOf(n,o.prototype),n}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require(__dirname+"/prefixify.js").systemLang.pickTranslate):"function"==typeof define&&define.amd?define(["exports","pickTranslate","md5"],t):t(e.ApiError=e.ApiError||{})}(this,(function(e,t,o){"use strict";var r;if("object"==typeof process&&process.versions&&process.versions.node){var n=require("crypto");o=function(e){var t=n.createHash("md5");return t.update(e),t.digest("hex")}}var i=/\s+/gm,s=function(e){function r(n,s){for(var u,a=arguments.length,c=new Array(a>2?a-2:0),_=2;_<a;_++)c[_-2]=arguments[_];if("string"!=typeof n)throw new TypeError("Error message is must be string");n=n.replace(i," ").trim();var p=o(n),f=r.i18n.get(p)?Object.assign({},r.i18n.get(p)):{en_US:n};return c&&c.length&&Object.keys(f).forEach((function(e){c.forEach((function(t){f[e]=f[e].replace("%s",t)}))})),n=t(f)||n,(u=e.call(this,n)||this).name="ApiError",u.data={subject:s||r.Subject.GENERIC_ERROR,multilangs:f},r.Status[s]&&(u.statusCode=r.Status[s]),u}return _inheritsLoose(r,e),r.prototype.toJSON=function(){var e=this,t=new Set(["name","data","statusCode","message","subject"]);return Object.getOwnPropertyNames(this).reduce((function(o,r){return t.has(r)&&(o[r]=e[r]),o}),{name:this.name||this.constructor.name})},r}(_wrapNativeSuper(Error));return s.i18n=new Map,s.Subject={BAD_REQUEST:"BadRequest",INVALID_PROMO:"InvalidPromo",INVALID_DATA:"InvalidData",INVALID_DATELEFT:"InvalidDateLeft",INVALID_DATERIGHT:"InvalidDateRight",INVALID_TIME:"InvalidTime",EXCEEDS_MAX_STAY:"ExceedsMaxStay",EXCEEDS_MAX_OCCUPANCY:"ExceedsMaxOccupancy",SUBCEEDS_MIN_STAY:"SubceedMinStay",DUPLICATE_DATA:"DuplicateData",INVALID_TOKEN:"InvalidToken",ACCESS_DENIED:"AccessDenied",NOT_FOUND:"NotFound",GENERIC_ERROR:"GenericError",XML_RESPONSE_ERROR:"XMLResponse",ICAL_ERROR:"iCalError",STAYS_ALLIANCE:"StaysAlliance",HTTP_415:"UnsupportedMediaType",PRICE_EMPTY:"EmptyPrice",LIST_IS_LARGE:"ListIsLarge"},s.Status=((r={})[s.Subject.BAD_REQUEST]=400,r[s.Subject.INVALID_TOKEN]=401,r[s.Subject.ACCESS_DENIED]=403,r[s.Subject.NOT_FOUND]=404,r[s.Subject.LIST_IS_LARGE]=413,r[s.Subject.HTTP_415]=415,r),s.Message={INVALID_TOKEN:"Wrong access token. Please reload page.",BAD_REQUEST:"Bad Request",EXCEEDS_MAX_STAY:"Maximum duration of reservation is %s nights",SUBCEEDS_MIN_STAY:"Minimum duration of reservation is %s nights",HTTP_415:"Unsupported Media Type",INVALID_PROMO_1:"This Promo code can not to be used",INVALID_PROMO_2:"Please first login, for checked promo code",INVALID_PROMO_4:"Does not have a promo code with this name",INVALID_PROMO_5:"Promotion Code not valid for apartments which are already in promotion",APARTMENT_NOT_FOUND:"Apartment `%s` is not found",PAGE_NOT_FOUND:"Page is not found",HOTEL_NOT_FOUND:"Hotel `%s` is not found",RESERVE_NOT_FOUND:"Reservation `%s` is not found",BUILDING_NOT_FOUND:"Building `%s` is not found",TASK_NOT_FOUND:"Task `%s` is not found",LIST_IS_LARGE:"Answer list is too large for this request",ACCESS_DENIED:"Access Denied",PRICE_EMPTY:"We do not have price for `%s` (%s)"},"undefined"!=typeof module&&"object"==typeof module.exports&&(module.exports=s),e.default=s,e.i18n=s.i18n,e.Subject=s.Subject,e.Status=s.Status,e.Message=s.Message,Object.defineProperty(e,"__esModule",{value:!0}),s}));