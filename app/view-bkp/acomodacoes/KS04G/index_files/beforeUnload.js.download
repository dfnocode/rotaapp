define("beforeUnload",["jquery","i18n"],(function(e,s){"use strict";var a=e(window),o=s("Are you sure you want to leave this page? You have unsaved data.");return function(s,n){if(s.length&&!s.data("pok.beforeUnload")){if(s.is("form")?s.on("submit",(function(){this.checkValidity&&!this.checkValidity()||(s.find(".has-warning").removeClass("has-warning"),s.removeClass("unsaved"))})):n&&n.click((function(){s.find(".has-warning").removeClass("has-warning"),s.removeClass("unsaved")})),s.on("change keyup slide summernote.change changeDate sortstop","input, textarea, select, .note-editor, .slider, .ui-sortable",(function(a){var o=e(this);o.is("[type=hidden]")||a.isTrigger&&["change"].includes(a.type)&&o.is("input, textarea, select")&&!window._autotest||(n&&n.removeClass("hidden").show(),o.is(".note-editor")||o.closest(".note-editor")||(o.closest(".form-group, .input-group").length?o.closest(".form-group, .input-group").addClass("has-warning"):o.closest(".checkbox, .radio").length?o.closest(".checkbox, .radio").addClass("has-warning"):o.closest(".custom-checkbox")?o.closest(".custom-checkbox").addClass("has-warning"):o.closest(".customCheckbox").length?o.closest(".customCheckbox").parent().addClass("has-warning"):o.addClass("has-warning")),s.addClass("unsaved"))})),!window._autotest){var t=Math.random().toString(35).substr(2);a.on("beforeunload."+t,(function(e){if(s.hasClass("unsaved")&&s[0].isConnected)return e&&(e.preventDefault(),e.returnValue=o),o})),a.on("pageReload.start."+t,(function(){a.off("beforeunload."+t),a.off("pageReload.start."+t)}))}s.data("pok.beforeUnload",!0)}}}));