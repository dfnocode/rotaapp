function _createForOfIteratorHelperLoose(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}define(["api","safe","bootstrap-typeahead"],(function(e,r){"use strict";var t=Object.create(null);return function(a,n){function o(e){return a.attr("data-reserveid",t[e]._id),a.data("reserveid",t[e]._id),e}void 0===n&&(n=!1),a.attr("autocomplete","off").attr("data-validateattr","reserveid").data("validateattr","reserveid"),a.data("reserveid")&&e.cache("reserve.getReservationForActivity",{query:{_id:a.data("reserveid")},wdel:n},r.sure(window.appError,(function(e){e[0]&&(t[e[0].id]=e[0],a.val(e[0].id),o(e[0].id))}))),a.typeahead({minLength:2,items:100,source:function(a,i){!function(a,n,o){e.cache("reserve.reservac",{text:a,wdel:n},r.sure_result(o,(function(e){return e.map((function(e){return t[e.id]=e,{name:e.id}}))})))}(a,n,r.sure(window.appError,(function(e){for(var r,t=_createForOfIteratorHelperLoose(e);!(r=t()).done;){var n=r.value;a===n.name&&o(n.name)}i(e)})))},updater:function(e){return{name:o(e.name)}}}),a.on("click",(function(){a.trigger("keyup")})),a.on("change",(function(){""==a.val()&&(a.data("reserveid",""),a.attr("data-reserveid",""))})),a.on("keypress",(function(){a.data("reserveid")&&(a.attr("data-reserveid",""),a.data("reserveid",""))}))}}));