"use strict";!function(e){if("function"!=typeof t){var t=function(e){return e};t.nonNative=!0}var a=t("plaintext"),n=t("html"),r=t("comment"),f=/<(\w*)>/g,i=/<\/?([^\s\/>]+)/;function o(e,t,a){return u(e=e||"",c(t=t||[],a=a||""))}function c(e,n){return{allowable_tags:e=function(e){var a,n=new Set;if("string"==typeof e)for(;a=f.exec(e);)n.add(a[1]);else t.nonNative||"function"!=typeof e[t.iterator]?"function"==typeof e.forEach&&e.forEach(n.add,n):n=new Set(e);return n}(e),tag_replacement:n,state:a,tag_buffer:"",depth:0,in_quote_char:""}}function u(e,t){for(var f=t.allowable_tags,i=t.tag_replacement,o=t.state,c=t.tag_buffer,u=t.depth,l=t.in_quote_char,d="",b=0,h=e.length;b<h;b++){var p=e[b];if(o===a)switch(p){case"<":o=n,c+=p;break;default:d+=p}else if(o===n)switch(p){case"<":if(l)break;u++;break;case">":if(l)break;if(u){u--;break}l="",o=a,c+=">",f.has(s(c))?d+=c:d+=i,c="";break;case'"':case"'":l=p===l?"":l||p,c+=p;break;case"-":"<!-"===c&&(o=r),c+=p;break;case" ":case"\n":if("<"===c){o=a,d+="< ",c="";break}c+=p;break;default:c+=p}else if(o===r)switch(p){case">":"--"==c.slice(-2)&&(o=a),c="";break;default:c+=p}}return t.state=o,t.tag_buffer=c,t.depth=u,t.in_quote_char=l,d}function s(e){var t=i.exec(e);return t?t[1].toLowerCase():null}o.init_streaming_mode=function(e,t){var a=c(e=e||[],t=t||"");return function(e){return u(e||"",a)}},"function"==typeof define&&define.amd?define((function(){return o})):"object"==typeof module&&module.exports?module.exports=o:e.striptags=o}(this);