define("clitpl",["module","lodash","safe","moment","pickTranslate","dom-ready"],(function(n,r,t,e,i){"use strict";var a=n.config().mName,s=/[^a-zA-Z0-9]+/gim,u=["br","hr"],o=/<&([\s\w_.\d/\\-]+)&>$/,c=/'/g,l=/[Y]+/i,f=/[M]+/,p=/^(https?:)?\/\//i,_=/__iso/g,m=/__label/g,d=/__short/g,h=/__def/g,g=/__iso/g,v=/__char/g,w=/<script>/gi,y=/<\/script>/gi,b=/\u2028/gm,k=/\u2029/gm;function j(n){return"string"==typeof n}function O(n){var r=n;return r=parseFloat(r),Number.isFinite(r)?r.pokLocaleString(window._user.language,{minimumFractionDigits:2,maximumFractionDigits:2}):""}function x(n){return r.isObjectLike(n)?(Array.isArray(n)&&n.includes(void 0)&&(n=n.map((function(n){return void 0===n?null:n}))),JSON.parse(JSON.stringify(n))):n}function P(n){var r=n.trim();if(r.length<2)return r;if("{"===r[0]&&"{"!==r[1]||"["===r[0])try{r=JSON.parse(r)}catch(n){}return r}function C(n,C,S,A){function N(n){if("."===n||!n)return this;var t=r.has(this,n)?this:r.has(C,n)?C:null;return t?r.get(t,n):null}function T(n){var t=r.has(this,n)?this:r.has(C,n)?C:null;if(!t)return[];var e=n.split("."),i=e.pop(),a=e.length?r.get(t,e):t;return[a[i],a,i]}function L(n,t){return function(e){var i,a,s,u,o=1,c=null,l=n.appcfg._i_priceRounding,f=n.user.currency,p=P(e);if(j(p)?i=p:r.isPlainObject(p)&&(p.v&&(i=p.v,"r"in p&&(l=p.r)),p.c&&(o=p.c),p.p&&(c=p.p),p.cur&&(f="def"===p.cur?n.__defaultCurr:p.cur)),s=N.call(this,i),c?o=.01*(c=N.call(this,c)||100)||1:Number.isFinite(o)||(o=N.call(this,o)||1),r.isPlainObject(s)){if(f in s)a=s[f]*o;else{if(!(u=Object.keys(s)[0]))return"";if(a=parseFloat(s[u])*n.exchangeRate[u+f]*o,!Number.isFinite(a))return""}return a=r.round(a,l),t(f,a)}return t(null,null)}}function F(n,r){var t=r;return t=parseFloat(t),Number.isFinite(t)?t.pokLocaleString(C.user.language,{style:"currency",currency:n}):""}function M(r){var t="main",e=r,i=P(e);return i.v&&(t=i.d,e=i.v),e.includes("{{")&&(e=n.compile(e).render(Object.assign({},C,this))),e=S.i18n(e,t)}function D(n,t,e){return function(i){var a=N.call(this,i),s=0;return M(!(s=r.isPlainObject(a)?a[n]:parseFloat(a))||s<2?(s||0)+" "+t:s+" "+e)}}function E(n){var t,e=P(n),i=", ";j(e)?t=e:r.isPlainObject(e)&&(t=e.v,i=e.d);var a=this,s=t.indexOf("{{#")+3,u=t.indexOf("}}"),o=t.substring(s,u);if(a=N.call(a,o),!Array.isArray(a))return"";var c=[],l=a.length;if(1===l)return t;for(var f=new RegExp(o,"gm"),p=0;p<l;p++)c.push(t.replace(f,o+"."+p));return c.join(i).trim()}function I(n){return r.isPlainObject(this)?(C.user._t_permissions.has(n)?this._pokgranted=!0:this._pokgranted=n.split("||").some((function(t){var e=P(t.trim());return!(!Array.isArray(e)||!function(n){return 1===n.length?C.user._t_permissions.has(n[0]):r.intersection(C.user.permissions,n).length===n.length}(e))&&(C.user._t_permissions.add(n),!0)})),""):""}function R(n){return function(t){var e=t.trim();return r.reduce(S.sysCurrs,(function(r,t){return""+r+e.replace(h,C.__defaultCurr).replace(g,t.iso).replace(v,t.char)+n}),n)}}function U(n){return void 0===n&&(n=1),r.size(S.sysCurrs)*n}function B(n){var t=n.trim();return r.reduce(S.sysLangs,(function(n,r){return r.active||"front1"!==C.domain_name?""+n+t.replace(_,r.iso).replace(m,r.label).replace(d,r.short)+"\n":n}),"\n")}function V(n){var t,i="seconds",a="",s=!1,u=P(n);j(u)?t=u:u.v&&(t=u.v,i=u.f||i,s=u.d||!1);var o=N.call(this,t);if(o&&!Array.isArray(o)&&!r.isPlainObject(o))if(s){var c=e.utc(o);c.isValid()&&(a=c.from(Date.nowUTC(),!0))}else{var l=e.duration(o);l.isValid()&&(a=l[i]())}return a}function Y(n){var r,t="DD MMM YYYY",i="",a=P(n);j(a)?r=a:a.v&&(r=a.v,t=a.f||t);var s=N.call(this,r);if(j(s)||Number.isFinite(s)||e.isDate(s)||e.isMoment(s)){var u=e.utc(s);u.isValid()&&(i="fromNow"===t?"<span class='agotimer' data-timer='"+u.valueOf()+"'>"+u.from(Date.nowUTC())+"</span>":"afterNow"===t?"<span class='aftertimer' data-timer='"+u.valueOf()+"'>"+(u.isBefore(Date.nowUTC())?e.duration(0,"minutes").humanize():u.from(Date.nowUTC(),!0))+"</span>":u.format(t))}return i}function q(n){var t=P(n),e=C.user.language;r.isPlainObject(t)&&(t.v&&(n=t.v),t.def&&(e=window.__defaultLang));var a=N.call(this,n);if(a)return i(a,e)}function z(n){var t=N.call(this,n),e=0;e=r.isPlainObject(t)?t._i_rooms:parseInt(t);var a=r.isPlainObject(t)&&t._t_type?[i(t._t_type._msvalues,C.user.language)]:[];return Number.isFinite(e)&&e&&(1===e&&a.push(M("1 Room")),e>1&&a.push(M(e+" Rooms"))),a.filter(Boolean).join(" | ")||M("Studio")}function H(n){var t,e=N.call(this,n),a=0;return r.isPlainObject(e)?(t=e._i_bedQty,a=e._i_rooms):t=parseInt(e),1===(t=t||Math.max(a,0)||0)?M("1 Bed"):t>1?M(t+" Beds"):r.isPlainObject(e)&&e._t_type?i(e._t_type._msvalues,C.user.language):""}function K(n){var t=N.call(this,n),e=0;e=r.isPlainObject(t)?t._i_rooms:parseInt(t);var a=r.isPlainObject(t)&&t._t_type?[i(t._t_type._msvalues,C.user.language)]:[];return Number.isFinite(e)&&e&&(1===e&&a.push(M("1 Room")),e>1&&a.push(M(e+" Rooms"))),a.filter(Boolean).join(" | ")||M("Studio")}function W(n){var t,e=N.call(this,n),a=0;r.isPlainObject(e)?(t=e._i_bedQty,a=e._i_rooms):t=parseInt(e),t=t||Math.max(a,0)||0;var s=r.isPlainObject(e)&&e._t_type?[i(e._t_type._msvalues,C.user.language)]:[];return Number.isFinite(t)&&t&&(1===t&&s.push(M("1 Bed")),t>1&&s.push(M(t+" Beds"))),s.filter(Boolean).join(" | ")}function J(n){var t,i,a="days",s="",u=P(n);return t=u.from,i=u.to,a=u.f||a,t=N.call(this,t),i=N.call(this,i),t=!t||Array.isArray(t)||r.isPlainObject(t)?null:e.utc(t),i=!i||Array.isArray(i)||r.isPlainObject(i)?null:e.utc(i),t&&i&&t.isValid()&&i.isValid()&&(s=i.startOf(a).diff(t.startOf(a),a)),s}function G(n){var t,i,a,s="DD MMM YYYY",u="",o=P(n);return i=o.from,a=o.to,t=s=o.f||s,i=N.call(this,i),a=N.call(this,a),i=!i||Array.isArray(i)||r.isPlainObject(i)?null:e.utc(i),a=!a||Array.isArray(a)||r.isPlainObject(a)?null:e.utc(a),i&&a&&i.isValid()&&a.isValid()?i.isSame(a,"day")?u=i.format(t):(i.isSame(a,"year")&&(s=s.replace(l,"").trim()),i.isSame(a,"month")&&s.includes("D")&&(s=s.replace(f,"").trim()),u=i.format(s)+" - "+a.format(t)):i&&i.isValid()?u=i.format(s):a&&a.isValid()&&(u=a.format(s)),u}function Q(n){var t,i,a="DD MMM YYYY HH:mm",s="",u=P(n);return t=u.from,i=u.to,a=u.f||a,t=N.call(this,t),i=N.call(this,i),t=!t||Array.isArray(t)||r.isPlainObject(t)?null:e.utc(t),i=!i||Array.isArray(i)||r.isPlainObject(i)?null:e.utc(i),t&&i&&t.isValid()&&i.isValid()?s=t.isSame(i,"day")?t.format(a)+" - "+i.format("HH:mm"):t.format(a)+" - "+i.format(a):t&&t.isValid()?s=t.format(a):i&&i.isValid()&&(s=i.format(a)),s}function $(n){var t=P(n);return r.isPlainObject(t)&&(this[t.n]=t.v),""}C.uniq="C"+Math.random().toString(35).substr(2,8).toUpperCase(),C.prefix=window._prefix,C.__datenow=window.__datenow,C.lang=window._user._t_lang,C.lang_url=C.lang,C.autotest=window._autotest,C.https=window._https,C.baseUrl=window._baseUrl,C.currBaseUrl=window._currBaseUrl,C.acceptFileTypes=window._acceptFileTypes,C.acceptImageTypes=window._acceptImageTypes,C.domain_name=a||C.domain_name||"front1",C.__datenow=Date.nowUTC(),C.__query=window.location.search,C.__url=window.location.pathname+window.location.search,C.__pathname=window.location.pathname,C.__host=window.location.host,C.__defaultLang=window.__defaultLang,C.__defaultLangShort=window.__defaultLangShort,C.__defaultCurr=window.__defaultCurr,C.__showPrices=window.__showPrices,C.__showPricesMonth=window.__showPricesMonth,"front1"===C.domain_name&&(C.altCurrencies=C.altCurrencies.filter((function(n){return!S.sysCurrs[n.iso]._b_hidden}))),window._prefixWithLang&&(C.prefixWithLang=window._prefixWithLang),window._securePrefixWithLang&&(C.securePrefixWithLang=window._securePrefixWithLang),window._wtmprefix&&(C._wtmprefix=window._wtmprefix),window._wtmpostfix&&(C._wtmpostfix=window._wtmpostfix),window._wtmid&&r.set(C,"CMS.customImages.wtm._idimage",window._wtmid);var Z=L(C,(function(n,r){return null===n?"":F(n,r)})),X=L(C,(function(n,r){return null===n?"":O(r)}));function nn(n){var t=C.user.currency,e=P(n);return r.isPlainObject(e)&&e.cur&&(t="def"===e.cur?C.__defaultCurr:e.cur),r.get(S,"sysCurrs."+t+".char")}function rn(n){var t=N.call(this,n);if(r.isPlainObject(t)){var e=Object.keys(t)[0],i=parseFloat(t[e]);if(Number.isFinite(i)&&S.sysCurrs[e])return F(e,i)}return""}function tn(n){var t=[],e=N.call(this,n);return r.isPlainObject(e)&&(t=r.map(e,(function(n,r){if(Number.isFinite(parseFloat(n))&&S.sysCurrs[r])return F(r,n)}))),r.compact(t).join(" + ")}function en(n){var t=N.call(this,n);return r.isPlainObject(t)?O(Object.values(t)[0]):""}function an(n){var t=N.call(this,n);return r.isPlainObject(t)?Object.keys(t)[0]:""}function sn(n){var t,e=P(n),i=2;r.isPlainObject(e)?(t=e.v,i=Number.isFinite(e.r)?e.r:i):t=e;var a=N.call(this,t);if(r.isPlainObject(a)){var s=Object.values(a)[0];if(Number.isFinite(s))return r.round(s,i).toFixed(2)}return""}function un(n){var t=N.call(this,n);return r.size(t)||0}function on(n){var t=T.call(this,n),e=t[0],i=t[1],a=t[2];return i&&(i["_size"+a]=r.size(e)||0),""}function cn(n){var r,t=T.call(this,n),e=t[0],i=t[1],a=t[2];i&&(j(e)||Number.isFinite(e))&&(i["_hog"+a]=((r={})[e]=!0,r));return""}function ln(n){var r=N.call(this,n);if(j(r))switch(r){case"image/jpeg":case"image/png":case"image/webp":return"fa-file-image-o";case"application/pdf":return"fa-file-pdf-o";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return"fa-file-word-o";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":return"fa-file-excel-o";default:return"fa-file-o"}return"fa-file-o"}function fn(n){var t=N.call(this,n);return r.isPlainObject(t)?Object.keys(t).map((function(n){return S.sysCurrs[n]&&S.sysCurrs[n].char})).filter(Boolean).join(","):""}function pn(n){return new RegExp(n,"i").test(window.location.pathname)?"active":""}function _n(r){var t=P(r),e=N.call(this,t.v);return j(e)?n.htmlEscape(e).substring(t.start||0,t.len).trim():""}function mn(r){return n.compile(r).render(Object.assign({},C,this)).split(",").map((function(n){return n.split("â€“").map((function(n){return n.trim()})).filter(Boolean).join(" â€“ ")})).filter(Boolean).join(", ")}function dn(t){var e;if(!(e=t.includes("{{")?n.compile(t).render(Object.assign({},C,this)):N.call(this,t))||!j(e))return"";for(var i=/((https?:)?\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?/gim,a=e=n.htmlEscape(e),s=i.exec(a);null!==s&&s[0];s=i.exec(a))e=e.replace(s[0],'<a href="'+("h"!==s[0][0]&&"/"!==s[0][0]?"//":"")+s[0]+'" target="_blank">'+s[0].replace(p,"")+"</a>");return r.reduce(e.split(/\r\n|\n|\r/i),(function(n,r){return(r=r.trim())&&n.push("<p>"+r+"</p>"),n}),[]).join("")}function hn(t){var e;return(e=t.includes("{{")?n.compile(t).render(Object.assign({},C,this)):N.call(this,t))&&j(e)?(e=n.htmlEscape(e),r.reduce(e.split(/\r\n|\n|\r/i),(function(n,r){return(r=r.trim())&&n.push("<p>"+r+"</p>"),n}),[]).join("")):""}function gn(n){var r=N.call(this,n);return r=parseInt(r),Number.isFinite(r)?Math.round(r).pokLocaleString(C.user.language,{minimumFractionDigits:0,maximumFractionDigits:0}):""}function vn(n){return O(N.call(this,n))}function wn(n){return function(n){var t="{}";if(!r.isObjectLike(n))return t;try{t=JSON.stringify(n).replace(b,"\\u2028").replace(k,"\\u2029").replace(w,"&lt;script&gt").replace(y,"&lt;/script&gt")}catch(n){}return t}(N.call(this,n))}function yn(n){if(!this)return"";var r=N.call(this,n);return this._stars=r,""}function bn(r){var t=parseFloat(this._stars);if(!t||!Number.isFinite(t))return"";var e=Math.round(2*t)/2,i={stars:new Array(Math.ceil(e)).fill(!0)};for(Math.floor(e)<e&&(i.stars[i.stars.length-1]={half:!0});i.stars.length<5;)i.stars.push({empty:!0});return n.compile(r).render(i)}function kn(n){var r=N.call(this,n),t=r;return j(r)&&o.test(r)&&(t=r.replace(o,"<span class='label label-info'>$1</span>")),t}function jn(n){var t=T.call(this,n),e=t[0],i=t[1],a=t[2];return i&&(i["_arr"+a]=r.toArray(e)),""}function On(){return this._pokuniq="U"+Math.random().toString(35).substr(2,8).toUpperCase(),""}function xn(n){var t=[];return function n(t,e){r.each(e,(function(e,i){if(r.isPlainObject(e))return n(t,e);t.push(i+":"+e)}))}(t,N.call(this,n)),t.join("\n")}function Pn(n){var t=this;if(!r.isPlainObject(this))return"";var e=P(n);return this._pokor=!1,Array.isArray(e)&&r.each(e,(function(n){var r="!"===n[0];r&&(n=n.slice(1));var e=N.call(t,n);if(r&&!e||!r&&e)return t._pokor=!0,!1})),""}function Cn(n){var t=this;if(!r.isPlainObject(this))return"";var e=P(n);return this._pokand=!0,Array.isArray(e)&&r.each(e,(function(n){var r="!"===n[0];r&&(n=n.slice(1));var e=N.call(t,n);if(!r&&!e||r&&e)return t._pokand=!1,!1})),""}var Sn=[];C.rndCDN=!0,C.pok_join=function(){return E},C.i18n=function(){return M},C.pok_checkperm=function(){return I},C.pok_syscurrs=function(){return R("\n")},C.pok_syscurrs_report=function(){return R(" ")},C.pok_syscurrs_count=function(){return U},C.pok_syslangs=function(){return B},C.pok_bathrooms=function(){return D("_f_bathrooms","Bathroom","Bathrooms")},C.pok_persons=function(){return D("_i_maxPers","Person","Persons")},C.pok_children=function(){return D("_i_children","Child","Children")},C.pok_adults=function(){return D("_i_adults","Adult","Adults")},C.pok_short_rooms=function(){return z},C.pok_short_beds=function(){return H},C.pok_rooms=function(){return K},C.pok_beds=function(){return W},C.pok_pickTranslate=function(){return q},C.i18n_duration=function(){return V},C.i18n_dateGMT=function(){return Y},C.dateDiff=function(){return J},C.dateRange=function(){return G},C.dateTimeRange=function(){return Q},C.pok_assign=function(){return $},C.i18n_price=function(){return Z},C.i18n_price_val=function(){return X},C.i18n_price_symb=function(){return nn},C.i18n_money=function(){return rn},C.i18n_money_all=function(){return tn},C.i18n_money_val=function(){return en},C.i18n_money_curr=function(){return an},C.pok_money_val=function(){return sn},C.pok_size=function(){return un},C.pok_calc_size=function(){return on},C.pok_hogify=function(){return cn},C.pok_mime=function(){return ln},C.pok_curr=function(){return fn},C.pok_menuactive=function(){return pn},C.pok_shorten=function(){return _n},C.pok_adr_trim=function(){return mn},C.pok_html=function(){return dn},C.pok_html_light=function(){return hn},C.pok_INT=function(){return gn},C.i18n_FLT=function(){return vn},C.toJSON=function(){return wn},C.pok_starify=function(){return yn},C.pok_stars=function(){return bn},C.pok_i18n_colorify=function(){return kn},C.pok_toarray=function(){return jn},C.pok_uniq=function(){return On},C.pok_printObj=function(){return xn},C.pok_or=function(){return Pn},C.pok_and=function(){return Cn},S.context.i18n_cron&&Sn.push((function(n){requirejs(["whenfmt","whenfmt/whenfmt."+window._user.language],(function(r,t){var e=(new r).setLocale(t);C.i18n_cron=function(){return function(n){return e.formatCron(this[n],2)}},n()}),n)})),S.context.i18n_price&&Sn.push((function(n){requirejs(["api!price.getLastExchangeRate"],(function(r){C.exchangeRate=x(r),n()}),n)})),S.context.i18n_money_words&&Sn.push((function(n){requirejs(["written-number","pickTranslate"],(function(t,e){C.i18n_money_words=function(){return function(n){var i,a,s,u=N.call(this,n),o=(i=C.user.language,a=C.__defaultLang,(s={pt_BR:"pt",es_ES:"es",en_US:"en",it_IT:"it",fr_FR:"fr",pt_PT:"ptPT",ru_RU:"ru"})[i]||s[a]||s.en_US);if(r.isPlainObject(u)){var c=Object.keys(u)[0],l=Number.parseFloatExt(u[c]);if(l&&Number.isFinite(l)&&S.sysCurrs[c])return(function(n,r){return t(n,{lang:o})+" "+e(S.sysCurrs[r]._msmain,C.user.language)}((l=l.toString().split("."))[0],c)+" "+function(n,i){return n?r.get(t,["i18n",o,"unitSeparator"],"")+t(n,{lang:o})+" "+e(S.sysCurrs[i]._mscent,C.user.language):""}(l[1],c)).trim()}return""}},n()}),n)})),S.context.pok_ms&&Sn.push((function(t){requirejs(["slug","html-truncate","striptags"],(function(e,a,o){function l(n){var r=C.appcfg.frontend._i_excerptLength||1/0,t="U"+Math.random().toString(35).substr(2,8).toUpperCase();return j(n)?o(n).length<=r?n:'<span id="less_'+t+'">'+a(n,r)+'</span>\n<div class="btn btn-default read-more-link" data-uniq="'+t+'">'+M("read more <& collapsing text &>")+'</div>\n<span id="more_'+t+'" style="display: none;">'+n+"</span>":""}C.pok_ms=function(){return function(t){var a,f=t,p=0,_=0,m=0,d=0,h=0,g=C.user.language;a=P(f),r.isPlainObject(a)&&(a.v&&(f=a.v),a.slug&&(p=1),a.escp&&(_=1),a.lang&&(g=a.lang),a.strip&&(m=1),a.readmore&&(d=1),a.selfClosing&&(h=1));var v=N.call(this,f);if(!v)return"";var w=i(v,g);return j(w)&&w?(w.includes("{{")&&(w=n.compile(w).render(Object.assign({},C,this))),d?l.call(this,w):(m&&(w=n.htmlEscape(o(w))),p&&(w=e(w,{mode:"rfc3986"})),_&&(w=w.trim().replace(s,"-")),h&&r.each(u,(function(n){var r=new RegExp("<"+n+">","g");w=w.replace(r,"<"+n+"/>")})),p||_||m||(w=w.replace(c,"&#39;")),w)):""}},C.pok_escape=function(){return function(n){var r=N.call(this,n);return j(r)?e(r,{mode:"rfc3986"}):""}},t()}),t)})),S.context.pok_excerpt&&Sn.push((function(t){requirejs(["html-truncate","striptags"],(function(e,i){C.pok_excerpt=function(){return function(t){var a,s,u=t,o=0,c=60;if(a=P(u),r.isPlainObject(a)&&(a.v&&(u=a.v),a.html&&(o=1),a.excerptLength&&(c=a.excerptLength)),o){if(s=C.pok_html.call(this).call(this,u),i(s).length<=c)return s}else{var l=N.call(this,u);if(!j(l))return"";if((s=n.htmlEscape(l)).length<=c)return s}return'<div>\n\t<div class="excerpt-container">\n\t\t<span class="excerpt-text">'+e(s,c,{ellipsis:'<a href="#" class="excerpt-more-link" style="word-break: keep-all">'+M("...read more <& collapsing text &>")+"</a>"})+'</span>\n\t</div>\n\t<div class="fulltext-container" style="display:none;">\n\t\t<span class="full-text">'+s+'</span>\n\t\t\x3c!--a href="#" class="excerpt-less-link">'+M("...less <& collapsing text &>")+"</a--\x3e\n\t</div>\n</div>"}},t()}),t)})),Sn.length?t.parallel(Sn,t.sure(A,(function(){A(null,C)}))):t.back(A,null,C)}return{render:function(n,e,i){e=x(e),requirejs(["hogan","hgs/"+n],(function(a,s){!function(n,t,e,i){var a={context:Object.create(null)},s=Object.create(null);function u(n,r){return s[r]||n.includes("{{"+r+".")||n.includes("{{"+r+"}}")||n.includes("{{#"+r+"}}")||n.includes("{{/"+r+"}}")||n.includes("{{#"+r+".")||n.includes("{{/"+r+".")||n.includes("}}"+r+"{{")||n.includes("}}"+r+".")}function o(n,r,t){for(var e=0;!a.context[n]&&e<r.length;e++){var i=r[e];a.context[n]=s[i]=u(t,i)}}r.each(t,(function(n,r){n.text&&(o("pok_excerpt",["pok_excerpt"],n.text),o("pok_ms",["pok_ms","pok_escape"],n.text),o("i18n_cron",["i18n_cron"],n.text),o("i18n_price",["i18n_price","i18n_price_val"],n.text),o("i18n_money_words",["i18n_money_words"],n.text))})),requirejs(["i18n","api!core._getUser","api!core.getAppCfg","api!core.getAltCurrencies","api!core.getSysCurrs","api!core.getSysLangs","api!modules.getAvailableModules","api!content.getMediaList"],(function(r,t,s,u,o,c,l,f){a.i18n=r,a.sysCurrs=x(o),a.sysLangs=x(c),(e=e||{}).user=x(t),e.user._t_permissions=new Set(e.user.permissions),e.appcfg=x(s),e.altCurrencies=x(u),e.__modules=x(l),e.__tasks={CLEANING:l.CLEANING_TASKS||l.TASKS_TODO_LIST,RECEPTION:l.RECEPTION_TASKS||l.TASKS_TODO_LIST,TECHNICAL:l.TECHNICAL_TASKS||l.TASKS_TODO_LIST},e.CMS=e.CMS||{},e.CMS.media=f.reduce((function(n,r){return n[r.foldername.replace(/\s+/,"_")]=r.media.filter((function(n){return"image"===n.type})).map((function(n){return{name:n.name,url:"/media/"+n._idfile}})),n}),{}),C(n,e,a,i)}),i)}(a,s,e,t.sure(i,(function(r){i(null,s[n].render(r,s),r)})))}),i)},_render:function(n,r){var t=this;return new Promise((function(e,i){t.render(n,r,(function(n,r){if(n)return i(n);e(r)}))}))},re_i18ncolorify:o,re_space:/\s+/gm,rApos:c}}));