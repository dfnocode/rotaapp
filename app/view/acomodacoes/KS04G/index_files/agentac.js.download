function asyncGeneratorStep(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){asyncGeneratorStep(o,r,a,c,i,"next",e)}function i(e){asyncGeneratorStep(o,r,a,c,i,"throw",e)}c(void 0)}))}}define(["api","api!core._getUser","i18n","autocomplete/autoselector"],(function(e,t,n,r){"use strict";return r({key:"agentid",template:"agent",getter:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark((function a(){var o,c,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.cache("contact.agentac");case 2:return o=a.sent,c=r.data("noagenttitle"),r.prop("required")||o.unshift({_id:"noagent",name:c||n("NoAgent")}),r.data("autoselector.items",o),t.roles.agent&&(i=r).parent().parent().find(".assign-to-me").click((function(){i.selectpicker("val",t._id)})),a.abrupt("return",{items:o});case 8:case"end":return a.stop()}}),a)})))()}})}));