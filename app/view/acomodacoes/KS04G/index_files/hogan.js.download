function _createForOfIteratorHelperLoose(t,r){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=t[Symbol.iterator]()).next.bind(e)}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}!function(){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;function e(r,e){return"object"==typeof r&&null!==r&&t.call(r,e)}function n(t){return"object"==typeof t&&"[object Object]"===r.call(t)}function a(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,a=/\S/g,i=/"/g,s=/\n/g,o=/\r/g,u=/\\/g,c=/\./m,l=/\u2028/g,f=/\u2029/g,h=/^\s*|\s*$/g,p={_t:!0,"\n":!0,$:!0,"/":!0},v=0,b=0,g={htmlEscape:function(e){return e.replace(r,(function(r){return t[r]})).replace(l,"\\u2028").replace(f,"\\u2029")},tags:{"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},scan:function(t){var r=t.length,e=0,n=null,i=null,s=[],o=[],u=!1,c=0;function l(){s.length>0&&(o.push({tag:"_t",text:s.join("")}),s=[])}function f(t,r){if(l(),t&&function(){for(var t=!0,r=c;r<o.length;r++)if(!(t=g.tags[o[r].tag]<g.tags._v||"_t"===o[r].tag&&null===o[r].text.match(a)))return!1;return t}()){for(var e=c;e<o.length;e++)if(o[e].text){var n=o[e+1];n&&">"===n.tag&&(n.indent=o[e].text),o.splice(e,1)}}else r||o.push({tag:"\n"});u=!1,c=o.length}for(var h=0;h<r;h++)if(0===e)m("{{",t,h)?(--h,l(),e=1):"\n"===t.charAt(h)?f(u):s.push(t.charAt(h));else if(1===e)h+="{{".length-1,n=(i=g.tags[t.charAt(h+1)])?t.charAt(h+1):"_v",i&&h++,e=2,u=h;else if(m("}}",t,h)){var p=y(s.join("")).split("=="),v=p[0],b=p[1],d={tag:n,n:v,otag:"{{",ctag:"}}",i:"/"===n?u-"{{".length:h+"}}".length};void 0!==b&&(d.v=b),o.push(d),s=[],h+="}}".length-1,e=0,"{"===n&&h++}else s.push(t.charAt(h));return f(u,!0),o},stringify:function(t){return"{code:function(c,p,i){"+this.wrapMain(t.code.join(""))+"},"+function t(r){return"partials:{"+Object.keys(r.partials).map((function(e){return'"'+w(e)+'":{name:"'+w(r.partials[e].name)+'",'+t(r.partials[e])+"}"})).join(",")+"},subs:"+(e=r.subs,"{"+(e?Object.keys(e).map((function(t){return'"'+w(t)+'":{f:function(c,p,t,i){'+e[t].code.join("")+",lvl:"+e[t].lvl+"}"})):[]).join(",")+"}");var e}(t)+"}"},generate:function(t,r,e){v=0,b=0;var n={code:[],subs:{},partials:{}};return this.walk(t,n),e.asString?this.stringify(n):this.makeTemplate(n,r,e)},wrapMain:function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},makeTemplate:function(t,r,e){var n=this.makePartials(t);return n.code=new Function("c","p","i",this.wrapMain(t.code.join(""))),new g.Template(n,r,this,e)},makePartials:function(t){for(var r={subs:{},partials:t.partials,name:t.name},e=0,n=Object.keys(r.partials);e<n.length;e++){var a=n[e];r.partials[a]=this.makePartials(r.partials[a])}if(t.subs)for(var i=0,s=Object.keys(t.subs);i<s.length;i++){var o=s[i],u=t.subs[o];r.subs[o]={f:new Function("c","p","t","i",u.code.join("")),lvl:u.lvl}}return r},codegen:{"#":function(t,r){r.code.push("if(t.s(t."+A(t.n)+'("'+w(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+(e(t,"v")?","+t.v:"")+")){t.rs(c,p,function(c,p,t){"),g.walk(t.nodes,r),r.code.push("});c.pop()}")},"^":function(t,r){r.code.push("if(!t.s(t."+A(t.n)+'("'+w(t.n)+'",c,p,1),c,p,1,0,0'+(e(t,"v")?","+t.v:"")+")){"),g.walk(t.nodes,r),r.code.push("}")},">":S,"<":function(t,r){var e={partials:{},code:[],subs:{},inPartial:!0};g.walk(t.nodes,e);var n=r.partials[S(t,r)];n.subs=e.subs,n.partials=e.partials},$:function(t,r){var e={subs:{},code:[],partials:r.partials,prefix:t.n};b++,g.walk(t.nodes,e),r.subs[t.n]={code:e.code,lvl:b--},r.inPartial||r.code.push('t.sub("'+w(t.n)+'",c,p,i);')},"\n":function(t,r){r.code.push(x('"\\n"',t.last?"":" + i"))},_v:function(t,r){r.code.push("t.b(t.v(t."+A(t.n)+'("'+w(t.n)+'",c,p,0)));')},_t:function(t,r){r.code.push(x('"',w(t.text),'"'))},"{":O,"&":O},walk:function(t,r){for(var e,n=_createForOfIteratorHelperLoose(t);!(e=n()).done;){var a=e.value,i=this.codegen[a.tag];i&&i(a,r)}return r},parse:function(t,r){return function t(r,e,n){var a,i=[],s=null,o=null;a=e[e.length-1];for(;r.length>0;){if(o=r.shift(),a&&"<"===a.tag&&!p[o.tag])throw new Error("Illegal content in < super tag.");if(g.tags[o.tag]<=g.tags.$||k(o,n))e.push(o),o.nodes=t(r,e,n);else{if("/"===o.tag){if(0===e.length)throw new Error("Closing tag without opener: /"+o.n);if(s=e.pop(),o.n!==s.n&&!j(o.n,s.n,n))throw new Error("Nesting error: "+s.n+" vs. "+o.n);return s.end=o.i,i}"\n"===o.tag&&(o.last=0===r.length||"\n"===r[0].tag)}i.push(o)}if(e.length>0)throw new Error("missing closing tag: "+e.pop().n);return i}(t,[],(r=r||{}).sectionTags||[])},cacheKey:function(t,r){return t+"||"+!!r.asString+"||"+!!r.disableLambda},cache:new Map,compile:function(t,r){void 0===r&&(r={});var e=this.cacheKey(t,r),n=this.cache.get(e);if(n){for(var a=n.partials,i=0,s=Object.keys(a);i<s.length;i++){var o=s[i];a[o].instance&&delete a[o].instance}return n}return n=this.generate(this.parse(this.scan(t),r),t,r),this.cache.set(e,n),n}},d=function(){function t(t,r,e){void 0===t&&(t={}),void 0===r&&(r=""),void 0===e&&(e={}),this.r=t.code||this.r,this.c=g,this.options=e,this.text=r,this.partials=t.partials||{},this.subs=t.subs||{},this.buf=[]}var r=t.prototype;return r.r=function(t,r,e){return""},r.v=function(t){return t=this.t(t),g.htmlEscape(t)},r.t=function(t){return"string"==typeof t?t:Array.isArray(t)||n(t)?JSON.stringify(t).replace(l,"\\u2028").replace(f,"\\u2029"):null==t?"":String(t)},r.render=function(t,r,e){return this.ri([t],r||{},e)},r.ri=function(t,r,e){return this.r(t,r,e)},r.ep=function(t,r){var n=this.partials[t],a=r[n.name];if(n.instance&&!n.subs&&n.base===a)return n.instance;if("string"==typeof a){if(!this.c)throw new Error("No compiler available.");a=this.c.compile(a,this.options)}if(!a)return null;if(this.partials[t].base=a,n.subs){r.stackText||(r.stackText={});for(var i=0,s=Object.keys(n.subs);i<s.length;i++){var o=s[i];r.stackText[o]||(r.stackText[o]=void 0!==this.activeSub&&r.stackText[this.activeSub]?r.stackText[this.activeSub]:this.text)}a=function(t,r,n,a,i,s){var o=Object.create(t||null);o.subs=Object.create(t.subs||null),o.buf=[],a=a||{},o.stackSubs=Object.assign({},a),o.subsText=s;for(var u=0,c=Object.keys(r);u<c.length;u++){var l=c[u],f=r[l];(!e(o.stackSubs,l)||o.stackSubs[l].lvl<f.lvl)&&(o.stackSubs[l]=f)}for(var h=0,p=Object.keys(o.stackSubs);h<p.length;h++){var v=p[h],b=o.stackSubs[v];o.subs[v]=e(r,v)&&r[v].lvl>b.lvl?r[v]:b}i=i||{},o.stackPartials=Object.assign({},i);for(var g=0,d=Object.keys(n);g<d.length;g++){var y=d[g];e(o.stackPartials,y)||(o.stackPartials[y]=n[y])}for(var m=0,k=Object.keys(o.stackPartials);m<k.length;m++){var j=k[m];o.partials[j]=o.stackPartials[j]}return o}(a,n.subs,n.partials,this.stackSubs,this.stackPartials,r.stackText)}return this.partials[t].instance=a,a},r.rp=function(t,r,e,n){var a=this.ep(t,e);return a?a.ri(r,e,n):""},r.rs=function(t,r,e){var n=t[t.length-1];if(Array.isArray(n))for(var a,i=_createForOfIteratorHelperLoose(n);!(a=i()).done;){var s=a.value;t.push(s),e(t,r,this),t.pop()}else e(t,r,this)},r.s=function(t,r,e,a,i,s,o){var u=!1;return Array.isArray(t)&&0===t.length||("function"==typeof t&&(t=this.ms(t,r,e,a,i,s)),u=void 0!==o?t==o:!!t,!a&&u&&r&&r.push(Array.isArray(t)||n(t)?t:r[r.length-1])),u},r.d=function(t,r,n,a){var i="",s=null;if("."!==t||1!==r.length&&!Array.isArray(r[r.length-2])){var o=t.split(".");i=this.f(o[0],r,n,a);for(var u=1;u<o.length;u++)e(i,o[u])?(s=i,i=i[o[u]]):i=""}else i=r[r.length-1];return a&&!i||a||"function"!=typeof i||(r.push(s),i=this.mv(i,r,n),r.pop()),i},r.f=function(t,r,n,a){for(var i=!1,s=!1,o=r.length-1;o>=0;o--){var u=r[o];if(e(u,t)){i=u[t],s=!0;break}}return s?(a||"function"!=typeof i||(i=this.mv(i,r,n)),i):!a&&""},r.ls=function(t,r,e,n,a){var i=this.t(t.call(r,a,e));return i&&i.includes("{{")&&(i=this.ct(i,e,n)),i&&this.b(i),!1},r.ct=function(t,r,e){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).ri(r,e)},r.b=function(t){this.buf.push(t)},r.fl=function(){var t=this.buf.join("");return this.buf=[],t},r.ms=function(t,r,e,n,a,i){var s,o=r[r.length-1],u=t.call(o);return"function"==typeof u?!!n||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,o,r,e,s.substring(a,i))):u},r.mv=function(t,r,e){var n=r[r.length-1],a=t.call(n);if("function"==typeof a){var i=this.t(a.call(n));return i&&i.includes("}}")?this.ct(i,r,e):i}return a},r.sub=function(t,r,e,n){var a=this.subs[t]||void 0,i=a?a.f:void 0;i&&(this.activeSub=t,i(r,e,this,n),this.activeSub=!1)},t}();function y(t){return t.trim?t.trim():t.replace(h,"")}function m(t,r,e){if(r.charAt(e)!==t.charAt(0))return!1;for(var n=1,a=t.length;n<a;n++)if(r.charAt(e+n)!==t.charAt(n))return!1;return!0}function k(t,r){for(var e,n=_createForOfIteratorHelperLoose(r);!(e=n()).done;){if(e.value.o===t.n)return t.tag="#",!0}}function j(t,r,e){for(var n,a=_createForOfIteratorHelperLoose(e);!(n=a()).done;){var i=n.value;if(i.c===t&&i.o===r)return!0}}function w(t){return t.replace(u,"\\\\").replace(i,'\\"').replace(s,"\\n").replace(o,"\\r").replace(l,"\\u2028").replace(f,"\\u2029")}function A(t){return c.test(t)?"d":"f"}function S(t,r){var e="<"+(r.prefix||"")+t.n+v++;return r.partials[e]={name:t.n,partials:{}},r.code.push('t.b(t.rp("'+w(e)+'",c,p,"'+(t.indent||"")+'"));'),e}function x(t,r,e){return void 0===r&&(r=""),void 0===e&&(e=""),"t.b("+t+r+e+");"}function O(t,r){r.code.push("t.b(t.t(t."+A(t.n)+'("'+w(t.n)+'",c,p,0)));')}return g.Template=d,g}"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"undefined"!=typeof define&&define.amd?define(["lodash"],(function(t){return a()})):this.hogan=a()}();