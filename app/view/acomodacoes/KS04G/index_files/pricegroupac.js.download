function _createForOfIteratorHelperLoose(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function asyncGeneratorStep(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void t(e)}u.done?r(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){asyncGeneratorStep(i,n,o,a,u,"next",e)}function u(e){asyncGeneratorStep(i,n,o,a,u,"throw",e)}a(void 0)}))}}define(["jquery","api","lodash","autocomplete/autoselector"],(function(e,r,t,n){"use strict";return n({key:"pricegroupid",template:"pricegroup",getter:function(e){var n=this;return _asyncToGenerator(regeneratorRuntime.mark((function o(){var i,a,u,c,d,l,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=(void 0===e?{}:e)._idbuildings,a=void 0===i?[]:i,o.next=3,r.cache("apartment.getSimpleApartments",{_idbuilding:{$exists:1},$or:[{priceGroup:{$exists:1}},{cloneGroup:{$exists:1}}]},{_id:1,avatar:1,priceGroup:1,cloneGroup:1,_idbuilding:1});case 3:for(u=o.sent,c=_createForOfIteratorHelperLoose(u);!(d=c()).done;)(l=d.value).name=t.get(l,"priceGroup.name")||t.get(l,"cloneGroup.name");return n.data("autoselector.items",u),s=t.cloneDeep(u),t.size(a)&&(s=s.filter((function(e){var r=e._idbuilding;return a.includes(r)}))),o.abrupt("return",{items:s});case 9:case"end":return o.stop()}}),o)})))()},postrender:function(r){var t=(void 0===r?{}:r).$building;if(t&&t.length){var n=this,o=function(){if(n.find("option[data-_idbuilding]").prop("disabled",!1),t.val().length){var r=t.val();r=Array.isArray(r)?r:[r],n.find("option[data-_idbuilding]").each((function(){var t=e(this);r.includes(t.data("_idbuilding"))||t.prop("disabled",!0)}))}n.prop("disabled",0===n.find("option[data-_idbuilding]").not(":disabled").length),n.selectpicker("refresh")};t.on("changed.bs.select",o),o()}}})}));