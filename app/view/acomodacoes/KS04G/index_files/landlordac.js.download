function asyncGeneratorStep(e,r,t,n,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void t(e)}u.done?r(i):Promise.resolve(i).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function c(e){asyncGeneratorStep(o,n,a,c,u,"next",e)}function u(e){asyncGeneratorStep(o,n,a,c,u,"throw",e)}c(void 0)}))}}define(["api","autocomplete/autoselector","checkperm","ApiError"],(function(e,r,t,n){"use strict";return r({key:"ownerid",template:"landlord",getter:function(){var r=this;return _asyncToGenerator(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cache("contact.landlordac");case 2:return n=t.sent,r.data("autoselector.items",n),t.abrupt("return",{items:n});case 5:case"end":return t.stop()}}),t)})))()},creater:function(r){var a=this;return _asyncToGenerator(regeneratorRuntime.mark((function o(){var c,u,i,s;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=r.text,t(["landlord.edit"])){o.next=3;break}throw new n("You don't have permissions",n.Subject.ACCESS_DENIED);case 3:return u=a,o.prev=4,u.block(),i={name:c,roles:{landlord:1}},o.next=9,e.call("contact.saveContact",i);case 9:return s=o.sent,e.CACHE.clear(),o.abrupt("return",s._id);case 14:o.prev=14,o.t0=o.catch(4),window.appError(o.t0);case 17:return o.prev=17,u.unblock(),o.finish(17);case 20:case"end":return o.stop()}}),o,null,[[4,14,17,20]])})))()}})}));