!function(e){"use strict";var n,r,t={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},l=t.w3;for(r in t)if(t[r].enabled in e){n=t[r];break}function s(n,r){var t=e.createEvent("Event");t.initEvent(n,!0,!1),r.dispatchEvent(t)}function i(r){return function(t,s){r!==l.exit||e[n.element]?(e.addEventListener(n.events.change,(function r(){t(),e.removeEventListener(n.events.change,r,!1)}),!1),e.addEventListener(n.events.error,(function r(){s(new TypeError),e.removeEventListener(n.events.error,r,!1)}),!1)):setTimeout((function(){s(new TypeError)}),1)}}!(l.enabled in e)&&n&&(e.addEventListener(n.events.change,(function(r){r.stopPropagation(),r.stopImmediatePropagation(),e[l.enabled]=e[n.enabled],e[l.element]=e[n.element],s(l.events.change,r.target)}),!1),e.addEventListener(n.events.error,(function(e){s(l.events.error,e.target)}),!1),e[l.enabled]=e[n.enabled],e[l.element]=e[n.element],e[l.exit]=function(){var r=e[n.exit]();return!r&&window.Promise?new Promise(i(l.exit)):r},Element.prototype[l.request]=function(){var e=this[n.request].apply(this,arguments);return!e&&window.Promise?new Promise(i(l.request)):e})}(document);